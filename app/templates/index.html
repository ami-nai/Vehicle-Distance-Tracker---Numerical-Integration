<!DOCTYPE html>
<html>
<head>
    <title>Vehicle Distance Tracker</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<div class="container">

<h1>üöó Vehicle Distance Tracker</h1>

<form method="POST" enctype="multipart/form-data">
    <input type="file" name="file" required>
    <button type="submit">Analyze</button>
</form>

{% if result %}
<div class="results">
    <h3>üìè Distance Calculations</h3>
    <div class="result-grid">
        <div class="result-card actual">
            <span class="label">Actual Distance (Rectangle Method):</span>
            <span class="value">{{ result.actual }} m</span>
        </div>
        <div class="result-card trap">
            <span class="label">Trapezoidal Rule:</span>
            <span class="value">{{ result.trap }} m</span>
        </div>
        <div class="result-card simp">
            <span class="label">Simpson's Rule:</span>
            <span class="value">{{ result.simp }} m</span>
        </div>
    </div>
</div>

<div class="error-section">
    <h3>‚ö†Ô∏è Final Error Analysis</h3>
    <div class="error-grid">
        <div class="error-card trap-error">
            <h4>Trapezoidal Rule</h4>
            <p>Absolute Error: <b>{{ result.trap_error }} m</b></p>
            <p>Relative Error: <b>{{ result.trap_rel_error }} %</b></p>
        </div>
        <div class="error-card simp-error">
            <h4>Simpson's Rule</h4>
            <p>Absolute Error: <b>{{ result.simp_error }} m</b></p>
            <p>Relative Error: <b>{{ result.simp_rel_error }} %</b></p>
        </div>
    </div>
    <div class="note">
        <p><strong>Actual Distance Calculation:</strong> Distance = Œ£(Speed<sub>i</sub> √ó Œît<sub>i</sub>), where Œît<sub>i</sub> = Time<sub>i</sub> - Time<sub>i-1</sub></p>
        <p><strong>Error:</strong> Shows how much each numerical integration method deviates from the actual discrete calculation.</p>
    </div>
</div>

<img src="/static/result.png?{{ range(1, 10000) | random }}">
{% endif %}

</div>

</body>
</html>
